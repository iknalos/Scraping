{"backend_state":"running","kernel":"python3","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":43802624},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.6.9"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"9ea017","input":"","pos":2,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"a5f1af","input":"data = pd.read_csv(\"//projects//85c3bd5a-ae03-4202-9f97-5cb013735222//input.csv\")\ninfo=data[\"Job-1\"]\ntotal=[]\nchrome_options = Options()\nchrome_options.add_argument(\"--disable-extensions\")\nchrome_options.add_argument(\"--disable-gpu\")\nchrome_options.add_argument(\"--no-sandbox\") # linux only\nchrome_options.add_argument(\"--headless\")\nbrowser = webdriver.Chrome('/usr/lib/chromium-browser/chromedriver',options=chrome_options)\nfor keywords in info:\n    try:\n        url='https://www.careerbuilder.com/jobs?utf8=%E2%9C%93&keywords='+keywords+'&location='\n        response = requests.get(url)\n        soup = BeautifulSoup(response.text,\"html.parser\")\n        qwert=soup.prettify()\n        x=qwert.split('jrp_result_count\": ')[1].split(',')[0]\n        total.append([\"careerbuilder\",keywords,x])\n    #    print (careerbuilder)\n\n        indeed = ('https://www.indeed.com/jobs?q='+keywords+'&l=')\n        response = requests.get(indeed)\n        soup = BeautifulSoup(response.text,\"html.parser\")\n        qwert=soup.prettify() \n        count=qwert.split(\"Page 1 of \")[1].split(\" \")[0]\n        total.append([\"Indeed\",keywords,count])\n    #    print(\"indeed\")\n\n        glassdoor = 'https://www.glassdoor.com/Job/jobs.htm?suggestCount=0&suggestChosen=false&clickSource=searchBtn&typedKeyword=&locT=&locId=0&jobType=&context=Jobs&sc.keyword='+keywords+'&dropdown=0'\n        browser.get(glassdoor)\n        view_page = browser.page_source\n        count=view_page.split(\"totalJobsCount\")[1].split(\"\\\\\")[1].split(\":\")[1].split(\",\")[0]\n\n        total.append([\"glassdoor\",keywords,count])\n    #    print(\"glass\")\n\n        dice = ('https://www.dice.com/jobs?q='+keywords+'&countryCode=US&radius=30&radiusUnit=mi&page=1&pageSize=20&language=en')\n        browser.get(dice) #run this in the loop\n        view_page = browser.page_source\n        count = view_page.split(\"search-count-mobile\\\">\")[1].split(\"<\")[0]   \n        total.append([\"Dice\",keywords,count])\n    except IndexError:\n        continue\n\n#    print(\"dice\")\n\ndf=pd.DataFrame(total)\ndf.to_csv(\"//projects//85c3bd5a-ae03-4202-9f97-5cb013735222//output.csv\",header=False,index=False) \n\n\n","pos":1,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"a6b2ca","input":"import time\nimport requests\nimport urllib.request\nfrom bs4 import BeautifulSoup\nfrom csv import DictReader\nimport csv\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nimport pandas as pd\nfrom datetime import datetime\n","pos":0,"type":"cell"}
{"id":0,"time":1598856246974,"type":"user"}
{"last_load":1598856245394,"type":"file"}